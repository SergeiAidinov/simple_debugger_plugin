<?xml version="1.0" encoding="UTF-8"?>
<plugin id="com.gmail.aydinov.sergey.simple_debugger_plugin">

    <!-- Старт плагина -->
    <extension point="org.eclipse.ui.startup">
        <startup class="com.gmail.aydinov.sergey.simple_debugger_plugin.PluginStarter"/>
    </extension>

    <!-- Команда открытия окна -->
    <extension point="org.eclipse.ui.commands">
        <command
            id="com.gmail.aydinov.sergey.simple_debugger_plugin.ui.commands.openDebugWindow"
            name="Open Debug Window"/>
    </extension>

    <!-- Хэндлер команды -->
    <extension point="org.eclipse.ui.handlers">
        <handler
            commandId="com.gmail.aydinov.sergey.simple_debugger_plugin.ui.commands.openDebugWindow"
            class="com.gmail.aydinov.sergey.simple_debugger_plugin.ui.handlers.OpenDebugWindowHandler">
        </handler>
    </extension>

    <!-- Меню -->
    <extension point="org.eclipse.ui.menus">
        <menuContribution locationURI="menu:window?after=additions">
            <command
                commandId="com.gmail.aydinov.sergey.simple_debugger_plugin.ui.commands.openDebugWindow"
                label="Simple Debug Window"
                style="push"/>
        </menuContribution>
    </extension>

    <!-- View -->
    <extension point="org.eclipse.ui.views">
        <view
            name="Debug Window"
            icon="/icons/Sample.png"
            category="com.gmail.aydinov.sergey.simple_debugger_plugin"
            class="com.gmail.aydinov.sergey.simple_debugger_plugin.ui.DebugWindow"
            id="com.gmail.aydinov.sergey.simple_debugger_plugin.ui.debugWindow">
        </view>
    </extension>

    <!-- ===== Аннотация для текущей строки ===== -->
    <extension point="org.eclipse.ui.editors.annotationTypes">
        <type
            name="Current Execution Line"
            type="com.gmail.aydinov.sergey.simple_debugger_plugin.currentLine"
            highlight="true"
            textPreferenceKey="currentExecutionLineAnnotation"
            overviewRulerPreferenceKey="currentExecutionLineOverview"
            verticalRulerPreferenceKey="currentExecutionLineRuler">
        </type>
    </extension>

    <extension point="org.eclipse.ui.editors.markerAnnotationSpecification">
        <specification
            annotationType="com.gmail.aydinov.sergey.simple_debugger_plugin.currentLine"
            colorPreferenceValue="255,165,0"   
            highlightPreferenceValue="true"
            overviewRulerPreferenceValue="true"
            verticalRulerPreferenceValue="true"
            textPreferenceValue="true">
        </specification>
    </extension>

</plugin>
